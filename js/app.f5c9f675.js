(function(e){function t(t){for(var a,r,c=t[0],i=t[1],s=t[2],b=0,d=[];b<c.length;b++)r=c[b],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&d.push(l[r][0]),l[r]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(e[a]=i[a]);u&&u(t);while(d.length)d.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,c=1;c<n.length;c++){var i=n[c];0!==l[i]&&(a=!1)}a&&(o.splice(t--,1),e=r(r.s=n[0]))}return e}var a={},l={app:0},o=[];function r(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="/vue-maps/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=t,c=c.slice();for(var s=0;s<c.length;s++)t(c[s]);var u=i;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"222a":function(e,t,n){"use strict";n("e0c4")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("7a23"),l=(n("99af"),{class:"d-flex row w-100"}),o={key:0,class:"col-lg-4 col-xl-3 d-flex flex-column flex-shrink-0 p-2 bg-light"},r=Object(a["e"])("div",{class:"d-flex justify-content-center align-items-center mb-3"},[Object(a["e"])("h1",null,"WELCOME")],-1),c=Object(a["e"])("hr",null,null,-1),i=Object(a["e"])("p",{class:"p-4 fs-4"}," Hello and welcome, you can change the default goal by clicking on the map, then you have to generate the cars and you can start the race. you can also add cars before or after starting the race. ",-1),s=[r,c,i],u={key:1,class:"col-lg-4 col-xl-3 d-flex flex-column flex-shrink-0 p-2 bg-light"},b=Object(a["e"])("div",{class:"d-flex justify-content-center align-items-center mb-3"},[Object(a["e"])("h1",null,"POSITIONS")],-1),d=Object(a["e"])("hr",null,null,-1),f={class:"my-3 overflow-auto",style:{height:"50vh"}},v={class:"table table-bordered table-striped"},p=Object(a["e"])("thead",null,[Object(a["e"])("tr",{class:"table-dark"},[Object(a["e"])("td",null,"Pos"),Object(a["e"])("td",null,"Name"),Object(a["e"])("td",null,"Distance"),Object(a["e"])("td",null,"Battery")])],-1),g=["onClick"],h={key:1,style:{"text-align":"center","font-size":"0.8rem","font-weight":"bold",color:"rgb(142, 22, 0)"}},j={key:0,class:"text-center"},O=Object(a["f"])(" The race is over, congratulations to "),m={class:"badge bg-info"},y={class:"col d-flex flex-column align-items-center p-2"},k=Object(a["e"])("div",{class:"mb-3 mb-md-0"},[Object(a["e"])("h1",null,"BOT RACE")],-1),w={class:"container d-flex row my-2 justify-content-around text-center"},C={class:"col-xs-6 col-sm-2 my-1"},x={class:"col-xs-6 col-sm-2 my-1"},M=["disabled"],P={key:0,class:"col-xs-6 col-sm-2 my-1"},R=["disabled"],S={key:1,class:"col-xs-6 col-sm-2 my-1"},T=["disabled"],I={style:{width:"100%"}},W={ref:"mapDiv",style:{width:"100%",height:"800px"},class:"rounded-3"};function B(e,t,n,r,c,i){return Object(a["j"])(),Object(a["d"])("div",l,[!1===r.botsGenerated?(Object(a["j"])(),Object(a["d"])("div",o,s)):(Object(a["j"])(),Object(a["d"])("div",u,[b,d,Object(a["e"])("div",f,[Object(a["e"])("table",v,[p,Object(a["e"])("tbody",null,[(Object(a["j"])(!0),Object(a["d"])(a["a"],null,Object(a["l"])(r.bots,(function(e,t){return Object(a["j"])(),Object(a["d"])("tr",{class:"align-middle",key:t,onClick:function(t){return r.infoCar(e)}},[Object(a["e"])("th",null,Object(a["m"])(t+1),1),Object(a["e"])("td",null,Object(a["m"])(e.title),1),Object(a["e"])("td",null,Object(a["m"])(Math.floor(e.distance)+" mts"),1),Object(a["e"])("td",null,[e.battery>0?(Object(a["j"])(),Object(a["d"])("div",{key:0,style:Object(a["g"])({fontWeight:"bold",borderRadius:"3px",width:"100%",textAlign:"center",color:"#E5B301",backgroundImage:"linear-gradient(90deg, rgb(17,59,8) ".concat(e.battery,"%, rgb(142,22,0) ").concat(e.battery,"% )")})},Object(a["m"])(e.battery),5)):(Object(a["j"])(),Object(a["d"])("span",h,"Wait "+Object(a["m"])(" "+e.batteryRechargeTime+"s"),1))])],8,g)})),128))])])]),r.finishedRace&&r.raceStarted?(Object(a["j"])(),Object(a["d"])("div",j,[Object(a["e"])("h4",null,[O,Object(a["e"])("span",m,Object(a["m"])(" "+r.bots[0].title),1)])])):Object(a["c"])("",!0)])),Object(a["e"])("div",y,[k,Object(a["e"])("div",w,[Object(a["e"])("div",C,[r.raceStarted?(Object(a["j"])(),Object(a["d"])("button",{key:1,class:"btn btn-primary",onClick:t[1]||(t[1]=function(){return r.generateBots&&r.generateBots.apply(r,arguments)})}," Generate Again ")):(Object(a["j"])(),Object(a["d"])("button",{key:0,class:"btn btn-primary",onClick:t[0]||(t[0]=function(){return r.generateBots&&r.generateBots.apply(r,arguments)})}," Generate Cars "))]),Object(a["e"])("div",x,[Object(a["e"])("button",{class:"btn btn-primary",disabled:r.finishedRace,onClick:t[2]||(t[2]=function(){return r.addCar&&r.addCar.apply(r,arguments)})}," Add Car ",8,M)]),r.botsGenerated?(Object(a["j"])(),Object(a["d"])("div",P,[Object(a["e"])("button",{class:"btn btn-success",disabled:r.raceStarted,onClick:t[3]||(t[3]=function(){return r.moveBots&&r.moveBots.apply(r,arguments)})}," Start Race ",8,R)])):Object(a["c"])("",!0),r.botsGenerated?(Object(a["j"])(),Object(a["d"])("div",S,[Object(a["e"])("button",{class:"btn btn-danger",disabled:r.finishedRace,onClick:t[4]||(t[4]=function(){return r.stopRace&&r.stopRace.apply(r,arguments)})}," Stop Race ",8,T)])):Object(a["c"])("",!0)]),Object(a["e"])("div",I,[Object(a["e"])("div",W,null,512)])])])}var E=n("1da1");n("d3b7"),n("159b"),n("a434"),n("4e82"),n("96cf");function A(){return new Promise((function(e,t){navigator.geolocation.getCurrentPosition((function(t){e(t)}),(function(e){return t(e)}))}))}function G(){function e(e,t){return Math.floor(Math.random()*(t-e+1)+e)}for(var t=e(5,10),n=[],a=["Renault Twingo","Chevrolet Spark","Toyota Land Cruiser","Renault 9","Chevrolet Chevette","Renault 12","Chevrolet Sprint","Jeep Willys","Mazda 323","Renault 4"],l=0;l<t;l++)n.push({id:l,title:a[e(0,9)]});return n}var D,_=n("4272"),z=function(e,t){var n=6378137,a=e.lat*(Math.PI/180),l=t.lat*(Math.PI/180),o=l-a,r=(t.lng-e.lng)*(Math.PI/180),c=2*n*Math.asin(Math.sqrt(Math.sin(o/2)*Math.sin(o/2)+Math.cos(a)*Math.cos(l)*Math.sin(r/2)*Math.sin(r/2)));return c},F=z,J=n("c074");function L(e,t,n){var a=N(50,100),l=(t.lat-e.lat)*a/n,o=(t.lng-e.lng)*a/n;return{lat:l,lng:o,randomTemp:a}}function N(e,t){return Math.floor(Math.random()*(t-e+1)+e)}var V="AIzaSyA4VGWfeMu2iduhK2rHSqoeXXaPFWJlulA",q={name:"App",setup:function(){var e=Object(a["k"])({lat:1.2215372,lng:-77.2934816}),t=null,l=null,o=null,r=Object(a["k"])([]),c=Object(a["k"])(!1),i=Object(a["k"])(!1),s=Object(a["k"])(null),u=Object(a["k"])(!1),b=new _["a"]({apiKey:V}),d=Object(a["k"])(null),f=Object(a["k"])(null),v=null;function p(){var n=null,a=t.getBounds(),l=a.getNorthEast().lng(),o=a.getNorthEast().lat(),r=a.getSouthWest().lng(),c=a.getSouthWest().lat();while(!n){var i=Math.random()*(l-r)+r,s=Math.random()*(o-c)+c,u={lat:s,lng:i},b=F(e.value,u);b>1800&&b<t.getRadius()&&(n=u)}return n}function g(){u.value=!1,m(),c.value=!0,r.value&&(r.value.forEach((function(e){e.setMap(null),e.setVisible(!1)})),r.value.splice(0,r.value.length)),G().forEach((function(e){h(e)})),w()}function h(t){c.value=!0;var n=p();r.value.push(new D({position:n,map:f.value,distance:F(n,e.value),battery:100,batteryRechargeTime:6,title:"".concat(t.title," #0").concat(t.id)})),w()}function j(){i.value=!0,u.value=!1;var t=function(e){return 0===e.distance};o=setInterval((function(){r.value.forEach((function(t){var n=O(t),a=n.defPosition,l=n.newDistance,o=n.newPosition;if(0!==t.distance){var r=Math.floor(21*Math.random()+10);r>t.battery&&(r=t.battery),t.battery-=r,t.battery>0&&(t.setPosition(a),t.distance=l,t.distance<o.randomTemp)?t.setPosition(e.value):0===t.battery&&t.batteryRechargeTime>0?t.batteryRechargeTime-=1:0===t.battery&&0===t.batteryRechargeTime&&(t.battery=100,t.batteryRechargeTime=6)}})),w(),r.value.every(t)&&(window.clearInterval(o),u.value=!0)}),1e3)}function O(t){var n={lat:t.getPosition().lat(),lng:t.getPosition().lng()},a=L(n,e.value,F(n,e.value)),l={lat:t.getPosition().lat()+a.lat,lng:t.getPosition().lng()+a.lng},o=F(n,e.value);return{defPosition:l,newDistance:o,newPosition:a}}function m(){i.value&&(i.value=!1),window.clearInterval(o)}function y(){h(G()[1])}function k(e){s.value.setContent(e.title),s.value.open(f.value,e)}function w(){r.value.sort((function(e,t){return e.distance<t.distance?-1:e.distance>t.distance?1:0})),r.value.forEach((function(e,t){0===t?e.setIcon({path:J["a"].icon[4],fillColor:"#008F39",fillOpacity:1,anchor:new google.maps.Point(J["a"].icon[0]/2,J["a"].icon[1]),strokeWeight:1,strokeColor:"#000",scale:.05}):t===r.value.length-1?e.setIcon({path:J["a"].icon[4],fillColor:"#C81D11",fillOpacity:1,anchor:new google.maps.Point(J["a"].icon[0]/2,J["a"].icon[1]),strokeWeight:1,strokeColor:"#000",scale:.05}):e.setIcon({path:J["a"].icon[4],fillColor:"#E5BE01",fillOpacity:1,anchor:new google.maps.Point(J["a"].icon[0]/2,J["a"].icon[1]),strokeWeight:1,strokeColor:"#000",scale:.05})}))}return Object(a["h"])(Object(E["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,A();case 3:o=a.sent,e.value.lat=o.coords.latitude,e.value.lng=o.coords.longitude,a.next=10;break;case 8:a.prev=8,a.t0=a["catch"](0);case 10:return a.next=12,b.load();case 12:D=n("5d7e"),f.value=new google.maps.Map(d.value,{center:e.value,zoom:14}),v=f.value.addListener("click",(function(t){var n=t.latLng,a=n.lat,l=n.lng;return e.value={lat:a(),lng:l()}})),l=new google.maps.Marker({position:e.value,map:f.value,icon:{path:J["b"].icon[4],fillColor:"#000000",fillOpacity:1,anchor:new google.maps.Point(J["b"].icon[0]/4,J["b"].icon[1]/2),strokeWeight:.2,strokeColor:"#000",scale:.075}}),t=new google.maps.Circle({strokeColor:"#FF000077",strokeOpacity:.8,strokeWeight:2,fillOpacity:.2,map:f.value,center:e.value,radius:3e3,editable:!0}),s.value=new google.maps.InfoWindow({content:""});case 18:case"end":return a.stop()}}),a,null,[[0,8]])})))),Object(a["i"])(Object(E["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:v&&v.remove;case 1:case"end":return e.stop()}}),e)})))),Object(a["n"])([e],(function(){l.setPosition(e.value),t.setCenter(e.value),f.value.setCenter(e.value),r.value.forEach((function(e){e.setMap(null),e.setVisible(!1)})),r.value.splice(0,r.value.length),c.value=!1})),{metaPositionCoords:e,mapDiv:d,generateBots:g,moveBots:j,stopRace:m,addCar:y,bots:r,botsGenerated:c,raceStarted:i,infoCar:k,finishedRace:u}}},H=(n("222a"),n("d959")),K=n.n(H);const X=K()(q,[["render",B]]);var Q=X;n("ab8b"),n("7b17");Object(a["b"])(Q).mount("#app")},e0c4:function(e,t,n){}});
//# sourceMappingURL=app.f5c9f675.js.map